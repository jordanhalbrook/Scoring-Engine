{% extends "base.html" %}
{% block content %}

<h2>{{ service_name }} - Recent Checks</h2>

<div style="margin: 20px 0; padding: 10px; background: #e8f4f8; border-radius: 5px;">
    <strong>This Period:</strong> {{ period_info.total_checks }} check(s)<br>
    <strong>Consecutive Periods Down:</strong> 
    {% if period_info.missed_checks > 0 %}
        <span class="down">{{ period_info.missed_checks }}</span>
    {% else %}
        <span class="up">0</span>
    {% endif %}
</div>

<table>
    <tr>
        <th>Time</th>
        <th>Result</th>
        <th>Message</th>
    </tr>

    {% for r in history %}
    <tr>
        <td>{{ r.timestamp.strftime("%Y-%m-%d %H:%M:%S") }}</td>
        <td>
            {% if r.success %}
                <span class="up">PASS</span>
            {% else %}
                <span class="down">FAIL</span>
            {% endif %}
        </td>
        <td>{{ r.message }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
